!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("ngx-bootstrap/utils"),require("@angular/common"),require("@angular/core")):"function"==typeof define&&define.amd?define("ngx-bootstrap/carousel",["exports","ngx-bootstrap/utils","@angular/common","@angular/core"],t):t((e["ngx-bootstrap"]=e["ngx-bootstrap"]||{},e["ngx-bootstrap"].carousel={}),e.utils,e.ng.common,e.ng.core)}(this,function(e,i,t,s){"use strict";function n(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var s,n,r=i.call(e),l=[];try{for(;(void 0===t||0<t--)&&!(s=r.next()).done;)l.push(s.value)}catch(o){n={error:o}}finally{try{s&&!s.done&&(i=r["return"])&&i.call(r)}finally{if(n)throw n.error}}return l}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e}var r=function(){function e(){this.interval=5e3,this.noPause=!1,this.noWrap=!1,this.showIndicators=!0,this.itemsPerSlide=1,this.singleSlideOffset=!1}return e.decorators=[{type:s.Injectable}],e}();var o={UNKNOWN:0,NEXT:1,PREV:2};o[o.UNKNOWN]="UNKNOWN",o[o.NEXT]="NEXT",o[o.PREV]="PREV";var d=function(){function e(e,t){this.ngZone=t,this.itemsPerSlide=1,this.singleSlideOffset=!1,this.activeSlideChange=new s.EventEmitter(!1),this.slideRangeChange=new s.EventEmitter,this.startFromIndex=0,this._slides=new i.LinkedList,this._currentVisibleSlidesIndex=0,this.destroyed=!1,this.getActive=function(e){return e.active},Object.assign(this,e)}return Object.defineProperty(e.prototype,"activeSlide",{get:function(){return this._currentActiveSlide},set:function(e){this.multilist||this._slides.length&&e!==this._currentActiveSlide&&this._select(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interval",{get:function(){return this._interval},set:function(e){this._interval=e,this.restartTimer()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slides",{get:function(){return this._slides.toArray()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBs4",{get:function(){return!i.isBs3()},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){e.multilist&&(e._chunkedSlides=function l(e,t){for(var i=[],s=Math.ceil(e.length/t),n=0;n<s;){var r=e.splice(0,n===s-1&&t<e.length?e.length:t);i.push(r),n++}return i}(e.mapSlidesAndIndexes(),e.itemsPerSlide),e.selectInitialSlides())},0)},e.prototype.ngOnDestroy=function(){this.destroyed=!0},e.prototype.addSlide=function(e){this._slides.add(e),this.multilist&&this._slides.length<=this.itemsPerSlide&&(e.active=!0),this.multilist||1!==this._slides.length||(this._currentActiveSlide=undefined,this.activeSlide=0,this.play())},e.prototype.removeSlide=function(e){var t=this,i=this._slides.indexOf(e);if(this._currentActiveSlide===i){var s=void 0;1<this._slides.length&&(s=this.isLast(i)?this.noWrap?i-1:0:i),this._slides.remove(i),setTimeout(function(){t._select(s)},0)}else{this._slides.remove(i);var n=this.getCurrentSlideIndex();setTimeout(function(){t._currentActiveSlide=n,t.activeSlideChange.emit(t._currentActiveSlide)},0)}},e.prototype.nextSlide=function(e){void 0===e&&(e=!1),this.move(o.NEXT,e)},e.prototype.previousSlide=function(e){void 0===e&&(e=!1),this.move(o.PREV,e)},e.prototype.getFirstVisibleIndex=function(){return this.slides.findIndex(this.getActive)},e.prototype.getLastVisibleIndex=function(){return function s(e,t){for(var i=e.length;i--;)if(t(e[i],i,e))return i;return-1}(this.slides,this.getActive)},e.prototype.move=function(e,t){void 0===t&&(t=!1);var i=this.getFirstVisibleIndex(),s=this.getLastVisibleIndex();this.noWrap&&(e===o.NEXT&&this.isLast(s)||e===o.PREV&&0===i)||(this.multilist?this.moveMultilist(e):this.activeSlide=this.findNextSlideIndex(e,t))},e.prototype.selectSlide=function(e){this.multilist?this.selectSlideRange(e):this.activeSlide=e},e.prototype.play=function(){this.isPlaying||(this.isPlaying=!0,this.restartTimer())},e.prototype.pause=function(){this.noPause||(this.isPlaying=!1,this.resetTimer())},e.prototype.getCurrentSlideIndex=function(){return this._slides.findIndex(this.getActive)},e.prototype.isLast=function(e){return e+1>=this._slides.length},e.prototype.isFirst=function(e){return 0===e},e.prototype.selectInitialSlides=function(){var e=this.startFromIndex<=this._slides.length?this.startFromIndex:0;if(this.hideSlides(),this.singleSlideOffset){if(this._slidesWithIndexes=this.mapSlidesAndIndexes(),this._slides.length-e<this.itemsPerSlide){var t=this._slidesWithIndexes.slice(0,e);this._slidesWithIndexes=l(this._slidesWithIndexes,t).slice(t.length).slice(0,this.itemsPerSlide)}else this._slidesWithIndexes=this._slidesWithIndexes.slice(e,e+this.itemsPerSlide);this._slidesWithIndexes.forEach(function(e){return e.item.active=!0}),this.makeSlidesConsistent()}else this.selectRangeByNestedIndex(e);this.slideRangeChange.emit(this.getVisibleIndexes())},e.prototype.findNextSlideIndex=function(e,t){var i=0;if(!t&&this.isLast(this.activeSlide)&&e!==o.PREV&&this.noWrap)return undefined;switch(e){case o.NEXT:i=this.isLast(this._currentActiveSlide)?!t&&this.noWrap?this._currentActiveSlide:0:this._currentActiveSlide+1;break;case o.PREV:i=0<this._currentActiveSlide?this._currentActiveSlide-1:!t&&this.noWrap?this._currentActiveSlide:this._slides.length-1;break;default:throw new Error("Unknown direction")}return i},e.prototype.mapSlidesAndIndexes=function(){return this.slides.slice().map(function(e,t){return{index:t,item:e}})},e.prototype.selectSlideRange=function(e){if(!this.isIndexInRange(e)){if(this.hideSlides(),this.singleSlideOffset){var t=this.isIndexOnTheEdges(e)?e:e-this.itemsPerSlide+1,i=this.isIndexOnTheEdges(e)?e+this.itemsPerSlide:e+1;this._slidesWithIndexes=this.mapSlidesAndIndexes().slice(t,i),this.makeSlidesConsistent(),this._slidesWithIndexes.forEach(function(e){return e.item.active=!0})}else this.selectRangeByNestedIndex(e);this.slideRangeChange.emit(this.getVisibleIndexes())}},e.prototype.selectRangeByNestedIndex=function(t){var e=this._chunkedSlides.map(function(e,t){return{index:t,list:e}}).find(function(e){return e.list.find(function(e){return e.index===t})!==undefined});this._currentVisibleSlidesIndex=e.index,this._chunkedSlides[e.index].forEach(function(e){e.item.active=!0})},e.prototype.isIndexOnTheEdges=function(e){return e+1-this.itemsPerSlide<=0||e+this.itemsPerSlide<=this._slides.length},e.prototype.isIndexInRange=function(e){return this.singleSlideOffset?0<=this._slidesWithIndexes.map(function(e){return e.index}).indexOf(e):e<=this.getLastVisibleIndex()&&e>=this.getFirstVisibleIndex()},e.prototype.hideSlides=function(){this.slides.forEach(function(e){return e.active=!1})},e.prototype.isVisibleSlideListLast=function(){return this._currentVisibleSlidesIndex===this._chunkedSlides.length-1},e.prototype.isVisibleSlideListFirst=function(){return 0===this._currentVisibleSlidesIndex},e.prototype.moveSliderByOneItem=function(e){var t,i,s,n;if(this.noWrap)t=this.getFirstVisibleIndex(),i=this.getLastVisibleIndex(),s=e===o.NEXT?t:i,n=e!==o.NEXT?t-1:this.isLast(i)?0:i+1,this._slides.get(s).active=!1,this._slides.get(n).active=!0,this.slideRangeChange.emit(this.getVisibleIndexes());else{var r=void 0;t=this._slidesWithIndexes[0].index,i=this._slidesWithIndexes[this._slidesWithIndexes.length-1].index,e===o.NEXT?(this._slidesWithIndexes.shift(),r=this.isLast(i)?0:i+1,this._slidesWithIndexes.push({index:r,item:this._slides.get(r)})):(this._slidesWithIndexes.pop(),r=this.isFirst(t)?this._slides.length-1:t-1,this._slidesWithIndexes=l([{index:r,item:this._slides.get(r)}],this._slidesWithIndexes)),this.makeSlidesConsistent(),this.hideSlides(),this._slidesWithIndexes.forEach(function(e){return e.item.active=!0}),this.slideRangeChange.emit(this._slidesWithIndexes.map(function(e){return e.index}))}},e.prototype.makeSlidesConsistent=function(){this._slidesWithIndexes.forEach(function(e,t){e.item.order=t})},e.prototype.moveMultilist=function(e){this.singleSlideOffset?this.moveSliderByOneItem(e):(this.hideSlides(),this.noWrap?this._currentVisibleSlidesIndex=e===o.NEXT?this._currentVisibleSlidesIndex+1:this._currentVisibleSlidesIndex-1:e===o.NEXT?this._currentVisibleSlidesIndex=this.isVisibleSlideListLast()?0:this._currentVisibleSlidesIndex+1:this._currentVisibleSlidesIndex=this.isVisibleSlideListFirst()?this._chunkedSlides.length-1:this._currentVisibleSlidesIndex-1,this._chunkedSlides[this._currentVisibleSlidesIndex].forEach(function(e){return e.item.active=!0}),this.slideRangeChange.emit(this.getVisibleIndexes()))},e.prototype.getVisibleIndexes=function(){return this.singleSlideOffset?this._slidesWithIndexes.map(function(e){return e.index}):this._chunkedSlides[this._currentVisibleSlidesIndex].map(function(e){return e.index})},e.prototype._select=function(e){if(isNaN(e))this.pause();else{if(!this.multilist){var t=this._slides.get(this._currentActiveSlide);t&&(t.active=!1)}var i=this._slides.get(e);i&&(this._currentActiveSlide=e,i.active=!0,this.activeSlide=e,this.activeSlideChange.emit(e))}},e.prototype.restartTimer=function(){var t=this;this.resetTimer();var e=+this.interval;!isNaN(e)&&0<e&&(this.currentInterval=this.ngZone.runOutsideAngular(function(){return setInterval(function(){var e=+t.interval;t.ngZone.run(function(){t.isPlaying&&!isNaN(t.interval)&&0<e&&t.slides.length?t.nextSlide():t.pause()})},e)}))},Object.defineProperty(e.prototype,"multilist",{get:function(){return 1<this.itemsPerSlide},enumerable:!0,configurable:!0}),e.prototype.resetTimer=function(){this.currentInterval&&(clearInterval(this.currentInterval),this.currentInterval=void 0)},e.decorators=[{type:s.Component,args:[{selector:"carousel",template:'<div (mouseenter)="pause()" (mouseleave)="play()" (mouseup)="play()" class="carousel slide">\n  <ol class="carousel-indicators" *ngIf="showIndicators && slides.length > 1">\n    <li *ngFor="let slidez of slides; let i = index;" [class.active]="slidez.active === true" (click)="selectSlide(i)"></li>\n  </ol>\n  <div class="carousel-inner" [ngStyle]="{\'display\': multilist ? \'flex\' : \'block\'}"><ng-content></ng-content></div>\n  <a class="left carousel-control carousel-control-prev" [class.disabled]="activeSlide === 0 && noWrap" (click)="previousSlide()" *ngIf="slides.length > 1">\n    <span class="icon-prev carousel-control-prev-icon" aria-hidden="true"></span>\n    <span *ngIf="isBs4" class="sr-only">Previous</span>\n  </a>\n  <a class="right carousel-control carousel-control-next" (click)="nextSlide()"  [class.disabled]="isLast(activeSlide) && noWrap" *ngIf="slides.length > 1">\n    <span class="icon-next carousel-control-next-icon" aria-hidden="true"></span>\n    <span class="sr-only">Next</span>\n  </a>\n</div>\n\n\n'}]}],e.ctorParameters=function(){return[{type:r},{type:s.NgZone}]},e.propDecorators={noWrap:[{type:s.Input}],noPause:[{type:s.Input}],showIndicators:[{type:s.Input}],itemsPerSlide:[{type:s.Input}],singleSlideOffset:[{type:s.Input}],activeSlideChange:[{type:s.Output}],slideRangeChange:[{type:s.Output}],activeSlide:[{type:s.Input}],startFromIndex:[{type:s.Input}],interval:[{type:s.Input}]},e}(),h=function(){function e(e){this.itemWidth="100%",this.order=0,this.addClass=!0,this.carousel=e}return e.prototype.ngOnInit=function(){this.carousel.addSlide(this),this.itemWidth=100/this.carousel.itemsPerSlide+"%"},e.prototype.ngOnDestroy=function(){this.carousel.removeSlide(this)},e.decorators=[{type:s.Component,args:[{selector:"slide",template:'\n    <div [class.active]="active" class="item">\n      <ng-content></ng-content>\n    </div>\n  ',host:{"[attr.aria-hidden]":"!active"}}]}],e.ctorParameters=function(){return[{type:d}]},e.propDecorators={active:[{type:s.HostBinding,args:["class.active"]},{type:s.Input}],itemWidth:[{type:s.HostBinding,args:["style.width"]}],order:[{type:s.HostBinding,args:["style.order"]}],addClass:[{type:s.HostBinding,args:["class.item"]},{type:s.HostBinding,args:["class.carousel-item"]}]},e}(),a=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:s.NgModule,args:[{imports:[t.CommonModule],declarations:[h,d],exports:[h,d],providers:[r]}]}],e}();e.CarouselComponent=d,e.CarouselModule=a,e.SlideComponent=h,e.CarouselConfig=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-bootstrap-carousel.umd.min.js.map