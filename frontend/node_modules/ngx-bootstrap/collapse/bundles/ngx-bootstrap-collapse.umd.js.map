{"version":3,"file":"ngx-bootstrap-collapse.umd.js.map","sources":["ng://ngx-bootstrap/collapse/collapse-animations.ts","ng://ngx-bootstrap/collapse/collapse.directive.ts","ng://ngx-bootstrap/collapse/collapse.module.ts"],"sourcesContent":["import {\n  animate,\n  style,\n  AnimationMetadata\n} from '@angular/animations';\n\nexport const COLLAPSE_ANIMATION_TIMING = '400ms cubic-bezier(0.4,0.0,0.2,1)';\n\nexport const expandAnimation: AnimationMetadata[] = [\n  style({ height: 0, visibility: 'hidden' }),\n  animate(\n    COLLAPSE_ANIMATION_TIMING,\n    style({ height: '*', visibility: 'visible' })\n  )\n];\n\nexport const collapseAnimation: AnimationMetadata[] = [\n  style({ height: '*', visibility: 'visible' }),\n  animate(\n    COLLAPSE_ANIMATION_TIMING,\n    style({ height: 0, visibility: 'hidden' })\n  )\n];\n","import {\n  AnimationBuilder,\n  AnimationFactory,\n  AnimationPlayer\n} from '@angular/animations';\n\n// todo: add animations when https://github.com/angular/angular/issues/9947 solved\nimport {\n  AfterViewChecked,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Input,\n  Output,\n  Renderer2\n} from '@angular/core';\n\nimport {\n  collapseAnimation,\n  expandAnimation\n} from './collapse-animations';\n\n@Directive({\n  selector: '[collapse]',\n  exportAs: 'bs-collapse',\n  host: {\n    '[class.collapse]': 'true'\n  }\n})\nexport class CollapseDirective implements AfterViewChecked {\n  /** This event fires as soon as content collapses */\n  @Output() collapsed: EventEmitter<CollapseDirective> = new EventEmitter();\n  /** This event fires when collapsing is started */\n  @Output() collapses: EventEmitter<CollapseDirective> = new EventEmitter();\n  /** This event fires as soon as content becomes visible */\n  @Output() expanded: EventEmitter<CollapseDirective> = new EventEmitter();\n  /** This event fires when expansion is started */\n  @Output() expands: EventEmitter<CollapseDirective> = new EventEmitter();\n\n  // shown\n  @HostBinding('class.in')\n  @HostBinding('class.show')\n  @HostBinding('attr.aria-expanded')\n  isExpanded = true;\n  // hidden\n  @HostBinding('attr.aria-hidden') isCollapsed = false;\n  // stale state\n  @HostBinding('class.collapse') isCollapse = true;\n  // animation state\n  @HostBinding('class.collapsing') isCollapsing = false;\n\n  @Input()\n  set display(value: string) {\n    if (!this.isAnimated) {\n      this._renderer.setStyle(this._el.nativeElement, 'display', value);\n\n      return;\n    }\n\n    this._display = value;\n\n    if (value === 'none') {\n      this.hide();\n\n      return;\n    }\n\n    this.show();\n  }\n  /** turn on/off animation */\n  @Input() isAnimated = false;\n  /** A flag indicating visibility of content (shown or hidden) */\n  @Input()\n  set collapse(value: boolean) {\n    this.isExpanded = value;\n    this.toggle();\n  }\n\n  get collapse(): boolean {\n    return this.isExpanded;\n  }\n\n  private _display = 'block';\n  private _factoryCollapseAnimation: AnimationFactory;\n  private _factoryExpandAnimation: AnimationFactory;\n  private _player: AnimationPlayer;\n  private _stylesLoaded = false;\n\n  private _COLLAPSE_ACTION_NAME = 'collapse';\n  private _EXPAND_ACTION_NAME = 'expand';\n\n  constructor(\n    private _el: ElementRef,\n    private _renderer: Renderer2,\n    _builder: AnimationBuilder\n  ) {\n    this._factoryCollapseAnimation = _builder.build(collapseAnimation);\n    this._factoryExpandAnimation = _builder.build(expandAnimation);\n  }\n\n  ngAfterViewChecked() {\n    this._stylesLoaded = true;\n  }\n\n  /** allows to manually toggle content visibility */\n  toggle(): void {\n    if (this.isExpanded) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  /** allows to manually hide content */\n  hide(): void {\n    this.isCollapsing = true;\n    this.isExpanded = false;\n    this.isCollapsed = true;\n    this.isCollapsing = false;\n\n    this.collapses.emit(this);\n\n    this.animationRun(this.isAnimated, this._COLLAPSE_ACTION_NAME)(() => {\n      this.collapsed.emit(this);\n      this._renderer.setStyle(this._el.nativeElement, 'display', 'none');\n    });\n  }\n  /** allows to manually show collapsed content */\n  show(): void {\n    this._renderer.setStyle(this._el.nativeElement, 'display', this._display);\n\n    this.isCollapsing = true;\n    this.isExpanded = true;\n    this.isCollapsed = false;\n    this.isCollapsing = false;\n\n    this.expands.emit(this);\n\n    this.animationRun(this.isAnimated, this._EXPAND_ACTION_NAME)(() => {\n      this.expanded.emit(this);\n    });\n  }\n\n  animationRun(isAnimated: boolean, action: string) {\n    if (!isAnimated || !this._stylesLoaded) {\n      return (callback: () => void) => callback();\n    }\n\n    this._renderer.setStyle(this._el.nativeElement, 'overflow', 'hidden');\n    this._renderer.addClass(this._el.nativeElement, 'collapse');\n\n    const factoryAnimation = (action === this._EXPAND_ACTION_NAME)\n      ? this._factoryExpandAnimation\n      : this._factoryCollapseAnimation;\n\n    if (this._player) {\n      this._player.destroy();\n    }\n\n    this._player = factoryAnimation.create(this._el.nativeElement);\n    this._player.play();\n\n    return (callback: () => void) => this._player.onDone(callback);\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\n\nimport { CollapseDirective } from './collapse.directive';\n\n@NgModule({\n  declarations: [CollapseDirective],\n  exports: [CollapseDirective]\n})\nexport class CollapseModule {\n  static forRoot(): ModuleWithProviders {\n    return { ngModule: CollapseModule, providers: [] };\n  }\n}\n"],"names":["style","animate","EventEmitter","Directive","ElementRef","Renderer2","AnimationBuilder","Output","HostBinding","Input","NgModule"],"mappings":"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"}
